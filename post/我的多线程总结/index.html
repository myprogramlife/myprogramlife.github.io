<!doctype html>
<html lang="en-us">
  <head>
    <title>å¤šçº¿ç¨‹ // MyProgramLife</title>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.68.3" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="John Doe" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="https://myprogramlife.github.io/css/main.min.f90f5edd436ec7b74ad05479a05705770306911f721193e7845948fb07fe1335.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="å¤šçº¿ç¨‹"/>
<meta name="twitter:description" content="ä½œè€…ï¼šå²³äº‰ Q Q ï¼š772768701 å‰è¨€ï¼š â€ƒè¯»å®Œæœ¬æ–‡å¤§æ¦‚éœ€è¦30åˆ†é’Ÿå·¦å³ï¼Œæœ¬æ–‡æœ‰å¤§é‡çš„å®ä¾‹ä»£ç å’Œå…¸å‹ä¾‹é¢˜å¸®åŠ©å¤§å®¶ç†è§£javaå¤šçº¿ç¨‹ã€‚è™½ç„¶å¤šçº¿ç¨‹æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼Œä»…é ä¸€ç¯‡æ–‡ç« ææ€•æä¸å®šã€‚ä½†è¯»å®Œæœ¬æ–‡æœ€èµ·ç èƒ½è®©ä½ ææ‡‚javaå¤šçº¿ç¨‹çš„70%ä»¥ä¸Šï¼Œè‡³äºç†Ÿç»ƒè¿ç”¨ï¼Œè¿˜æ˜¯å¾—å¤§é‡çš„ç»ƒä¹ ä¸ºåŸºç¡€ã€‚ ç›®å½•  çº¿ç¨‹æ¦‚è¿° è¿›ç¨‹ï¼šæ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ–æ˜¯æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºã€‚çº¿ç¨‹ï¼šæ˜¯ä¸€ä¸ªç¨‹åºé‡Œé¢ä¸åŒçš„æ‰§è¡Œé€”å¾„ï¼Œè¿›ç¨‹åŒ…å«çº¿ç¨‹ã€‚çº¿ç¨‹åˆåˆ†ä¸ºå®ˆæŠ¤çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹ã€‚1. è‹¥ä¸€ä¸ªè¿›ç¨‹åŒæ„æ—¶é—´æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ã€‚2. çº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½ï¼Œæ¯ä¸ªçº¿ç¨‹ç”¨äºç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰,çº¿ç¨‹åˆ‡æ¢å¼€é”€å°ã€‚   å•æ ¸CPUï¼šä¸€å—CPUåœ¨ä¸€ä¸ªæ—¶é—´æ®µåªæ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œå› ä¸ºé¢‘ç‡å¾ˆé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æ„Ÿè§‰ä¸åˆ°ã€‚
  ä¸€ä¸ªJavaç¨‹åºè‡³å°‘åˆä¸‰ä¸ªè¿›ç¨‹ï¼š
  main( ) æ–¹æ³•çš„ä¸»è¿›ç¨‹
  gc( ) åƒåœ¾å›æ”¶çº¿ç¨‹
  å¼‚å¸¸å¤„ç†çº¿ç¨‹ï¼Œå¼‚å¸¸ä¼šå½±å“ä¸»çº¿ç¨‹
    çº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨ ç¬¬ä¸€ç§æ–¹æ³•ï¼šç»§æ‰¿Threadç±» åˆ›å»ºæ­¥éª¤ï¼š   åˆ›å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿Threadç±»
  é‡å†™Threadç±»ä¸­çš„run()æ–¹æ³•ï¼Œå°†çº¿ç¨‹å°†éœ€è¦æ‰§è¡Œçš„æ“ä½œå†™å…¥run()æ–¹æ³•ä¸­
  åˆ›å»ºå­ç±»å¯¹è±¡
  é€šè¿‡å­ç±»è°ƒç”¨start()æ–¹æ³•
æ³¨æ„ï¼šå¯åŠ¨çº¿ç¨‹start()æ–¹æ³•ä¼šè‡ªåŠ¨è°ƒç”¨å½“å‰çº¿ç¨‹çš„run()æ–¹æ³•ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨run()æ–¹æ³•  ç¤ºä¾‹ï¼š /*** ä½¿ç”¨Threadç±»åˆ›å»ºçº¿ç¨‹*/class Cat extends Thread { public void run() {for (int i = 0; i &lt; 10; i&#43;&#43;) {System."/>

    <meta property="og:title" content="å¤šçº¿ç¨‹" />
<meta property="og:description" content="ä½œè€…ï¼šå²³äº‰ Q Q ï¼š772768701 å‰è¨€ï¼š â€ƒè¯»å®Œæœ¬æ–‡å¤§æ¦‚éœ€è¦30åˆ†é’Ÿå·¦å³ï¼Œæœ¬æ–‡æœ‰å¤§é‡çš„å®ä¾‹ä»£ç å’Œå…¸å‹ä¾‹é¢˜å¸®åŠ©å¤§å®¶ç†è§£javaå¤šçº¿ç¨‹ã€‚è™½ç„¶å¤šçº¿ç¨‹æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼Œä»…é ä¸€ç¯‡æ–‡ç« ææ€•æä¸å®šã€‚ä½†è¯»å®Œæœ¬æ–‡æœ€èµ·ç èƒ½è®©ä½ ææ‡‚javaå¤šçº¿ç¨‹çš„70%ä»¥ä¸Šï¼Œè‡³äºç†Ÿç»ƒè¿ç”¨ï¼Œè¿˜æ˜¯å¾—å¤§é‡çš„ç»ƒä¹ ä¸ºåŸºç¡€ã€‚ ç›®å½•  çº¿ç¨‹æ¦‚è¿° è¿›ç¨‹ï¼šæ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ–æ˜¯æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºã€‚çº¿ç¨‹ï¼šæ˜¯ä¸€ä¸ªç¨‹åºé‡Œé¢ä¸åŒçš„æ‰§è¡Œé€”å¾„ï¼Œè¿›ç¨‹åŒ…å«çº¿ç¨‹ã€‚çº¿ç¨‹åˆåˆ†ä¸ºå®ˆæŠ¤çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹ã€‚1. è‹¥ä¸€ä¸ªè¿›ç¨‹åŒæ„æ—¶é—´æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ã€‚2. çº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½ï¼Œæ¯ä¸ªçº¿ç¨‹ç”¨äºç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰,çº¿ç¨‹åˆ‡æ¢å¼€é”€å°ã€‚   å•æ ¸CPUï¼šä¸€å—CPUåœ¨ä¸€ä¸ªæ—¶é—´æ®µåªæ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œå› ä¸ºé¢‘ç‡å¾ˆé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æ„Ÿè§‰ä¸åˆ°ã€‚
  ä¸€ä¸ªJavaç¨‹åºè‡³å°‘åˆä¸‰ä¸ªè¿›ç¨‹ï¼š
  main( ) æ–¹æ³•çš„ä¸»è¿›ç¨‹
  gc( ) åƒåœ¾å›æ”¶çº¿ç¨‹
  å¼‚å¸¸å¤„ç†çº¿ç¨‹ï¼Œå¼‚å¸¸ä¼šå½±å“ä¸»çº¿ç¨‹
    çº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨ ç¬¬ä¸€ç§æ–¹æ³•ï¼šç»§æ‰¿Threadç±» åˆ›å»ºæ­¥éª¤ï¼š   åˆ›å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿Threadç±»
  é‡å†™Threadç±»ä¸­çš„run()æ–¹æ³•ï¼Œå°†çº¿ç¨‹å°†éœ€è¦æ‰§è¡Œçš„æ“ä½œå†™å…¥run()æ–¹æ³•ä¸­
  åˆ›å»ºå­ç±»å¯¹è±¡
  é€šè¿‡å­ç±»è°ƒç”¨start()æ–¹æ³•
æ³¨æ„ï¼šå¯åŠ¨çº¿ç¨‹start()æ–¹æ³•ä¼šè‡ªåŠ¨è°ƒç”¨å½“å‰çº¿ç¨‹çš„run()æ–¹æ³•ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨run()æ–¹æ³•  ç¤ºä¾‹ï¼š /*** ä½¿ç”¨Threadç±»åˆ›å»ºçº¿ç¨‹*/class Cat extends Thread { public void run() {for (int i = 0; i &lt; 10; i&#43;&#43;) {System." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://myprogramlife.github.io/post/%E6%88%91%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%80%BB%E7%BB%93/" />
<meta property="article:published_time" content="2020-04-23T16:30:00+08:00" />
<meta property="article:modified_time" content="2020-04-23T16:30:00+08:00" />


  </head>
  <body>
    <header class="app-header">
      <a href="https://myprogramlife.github.io/"><img class="app-header-avatar" src="/avatar.jpg" alt="John Doe" /></a>
      <h1>MyProgramLife</h1>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc vehicula turpis sit amet elit pretium.</p>
      <div class="app-header-social">
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">å¤šçº¿ç¨‹</h1>
      <div class="post-meta">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Apr 23, 2020
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          7 min read
        </div></div>
    </header>
    <div class="post-content">
      <h3 id="ä½œè€…å²³äº‰">ä½œè€…ï¼šå²³äº‰</h3>
<h3 id="q-q-772768701">Q Q ï¼š772768701</h3>
<h2 id="å‰è¨€">å‰è¨€ï¼š</h2>
<p>â€ƒâ€ƒ<!-- raw HTML omitted -->è¯»å®Œæœ¬æ–‡å¤§æ¦‚éœ€è¦30åˆ†é’Ÿå·¦å³ï¼Œæœ¬æ–‡æœ‰å¤§é‡çš„å®ä¾‹ä»£ç å’Œå…¸å‹ä¾‹é¢˜å¸®åŠ©å¤§å®¶ç†è§£javaå¤šçº¿ç¨‹ã€‚è™½ç„¶å¤šçº¿ç¨‹æ¯”è¾ƒéš¾ä»¥ç†è§£ï¼Œä»…é ä¸€ç¯‡æ–‡ç« ææ€•æä¸å®šã€‚ä½†è¯»å®Œæœ¬æ–‡æœ€èµ·ç èƒ½è®©ä½ ææ‡‚javaå¤šçº¿ç¨‹çš„70%ä»¥ä¸Šï¼Œè‡³äºç†Ÿç»ƒè¿ç”¨ï¼Œè¿˜æ˜¯å¾—å¤§é‡çš„ç»ƒä¹ ä¸ºåŸºç¡€ã€‚<!-- raw HTML omitted --></p>
<hr>
<h2 id="ç›®å½•">ç›®å½•</h2>
<h2 id="avatarmyblogstaticå›¾1jpeg-"><img src="/myblog/static/%E5%9B%BE1.jpeg" alt="avatar"></h2>
<h2 id="çº¿ç¨‹æ¦‚è¿°">çº¿ç¨‹æ¦‚è¿°</h2>
<pre><code>è¿›ç¨‹ï¼šæ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ–æ˜¯æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºã€‚
çº¿ç¨‹ï¼šæ˜¯ä¸€ä¸ªç¨‹åºé‡Œé¢ä¸åŒçš„æ‰§è¡Œé€”å¾„ï¼Œè¿›ç¨‹åŒ…å«çº¿ç¨‹ã€‚çº¿ç¨‹åˆåˆ†ä¸ºå®ˆæŠ¤çº¿ç¨‹å’Œç”¨æˆ·çº¿
      ç¨‹ã€‚
    
    1. è‹¥ä¸€ä¸ªè¿›ç¨‹åŒæ„æ—¶é—´æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ã€‚
    2. çº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½ï¼Œæ¯ä¸ªçº¿ç¨‹ç”¨äºç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼ˆPCï¼‰,çº¿ç¨‹åˆ‡æ¢å¼€é”€å°ã€‚
</code></pre>
<ul>
<li>
<p>å•æ ¸CPUï¼šä¸€å—CPUåœ¨ä¸€ä¸ªæ—¶é—´æ®µåªæ‰§è¡Œä¸€ä¸ªçº¿ç¨‹ï¼Œå› ä¸ºé¢‘ç‡å¾ˆé«˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æ„Ÿè§‰ä¸åˆ°ã€‚</p>
</li>
<li>
<p>ä¸€ä¸ªJavaç¨‹åºè‡³å°‘åˆä¸‰ä¸ªè¿›ç¨‹ï¼š</p>
<ul>
<li>
<p>main( )  æ–¹æ³•çš„ä¸»è¿›ç¨‹</p>
</li>
<li>
<p>gc( ) åƒåœ¾å›æ”¶çº¿ç¨‹</p>
</li>
<li>
<p>å¼‚å¸¸å¤„ç†çº¿ç¨‹ï¼Œå¼‚å¸¸ä¼šå½±å“ä¸»çº¿ç¨‹</p>
<p><!-- raw HTML omitted --></p>
</li>
</ul>
</li>
</ul>
<h1 id="çº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨">çº¿ç¨‹çš„åˆ›å»ºå’Œå¯åŠ¨</h1>
<h2 id="ç¬¬ä¸€ç§æ–¹æ³•ç»§æ‰¿threadç±»">ç¬¬ä¸€ç§æ–¹æ³•ï¼šç»§æ‰¿Threadç±»</h2>
<pre><code>åˆ›å»ºæ­¥éª¤ï¼š
</code></pre>
<ol>
<li>
<p>åˆ›å»ºä¸€ä¸ªç±»ï¼Œç»§æ‰¿Threadç±»</p>
</li>
<li>
<p>é‡å†™Threadç±»ä¸­çš„run()æ–¹æ³•ï¼Œå°†çº¿ç¨‹å°†éœ€è¦æ‰§è¡Œçš„æ“ä½œå†™å…¥run()æ–¹æ³•ä¸­</p>
</li>
<li>
<p>åˆ›å»ºå­ç±»å¯¹è±¡</p>
</li>
<li>
<p>é€šè¿‡å­ç±»è°ƒç”¨start()æ–¹æ³•</p>
<p><!-- raw HTML omitted -->æ³¨æ„ï¼šå¯åŠ¨çº¿ç¨‹start()æ–¹æ³•ä¼šè‡ªåŠ¨è°ƒç”¨å½“å‰çº¿ç¨‹çš„run()æ–¹æ³•ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨run()æ–¹æ³•<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted --></p>
</li>
</ol>
<h2 id="ç¤ºä¾‹">ç¤ºä¾‹ï¼š</h2>
<pre><code>/**
  * ä½¿ç”¨Threadç±»åˆ›å»ºçº¿ç¨‹
  */
    class Cat extends Thread {  

        public void run() {
            for (int i = 0; i &lt; 10; i++) {
                System.out.println(&quot;ç‹—åœ¨è·‘---&quot;);
            }
        }
    }
    public class Dog {
        public static void main(String[] args) {
            Cat cat = new Cat();
            new Thread(cat).start();
        }
    } 
</code></pre><!-- raw HTML omitted -->
<h2 id="ç¬¬äºŒç§æ–¹æ³•å®ç°runnableæ¥å£">ç¬¬äºŒç§æ–¹æ³•ï¼šå®ç°Runnableæ¥å£</h2>
<pre><code>åˆ›å»ºæ­¥éª¤ï¼š
</code></pre>
<ol>
<li>åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°Runnableæ¥å£</li>
<li>é‡å†™Runnableæ¥å£ä¸­çš„run()æ–¹æ³•ï¼Œå°†çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„æ“ä½œå†™å…¥run()æ–¹æ³•ä¸­</li>
<li>åˆ›å»ºå­ç±»å¯¹è±¡</li>
<li>åˆ›å»ºThreadï¼Œå°†å­ç±»å¯¹è±¡ä¸¢å…¥Threadæ„é€ å™¨ä¸­</li>
<li>é€šè¿‡Threadç±»å¯¹è±¡è°ƒç”¨start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹</li>
</ol>
<p>â€ƒâ€ƒ<!-- raw HTML omitted -->ä¼—æ‰€å‘¨çŸ¥ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œå´ä¸èƒ½ç»§æ‰¿å¤šä¸ªç±»ï¼Œæ‰€ä»¥åœ¨åˆ›å»ºçº¿ç¨‹æ—¶å°½é‡ä½¿ç”¨Runnableæ¥å£æ¥åˆ›å»ºçº¿ç¨‹ï¼ŒRunnableæ¥å£åˆ›å»ºçº¿ç¨‹å¯ä»¥é¿å…ç±»å•ç»§æ‰¿çš„å±€é™æ€§ã€‚<!-- raw HTML omitted --></p>
<h2 id="ç¤ºä¾‹-1">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
      *ä½¿ç”¨Runnableæ¥å£åˆ›å»ºçº¿ç¨‹
      */
    class Animal implements  Runnable{
        public void run() {
            for (int i = 0; i &lt; 10; i++) {
                System.out.println(&quot;ç‹—åœ¨è·‘ï¼Œè·‘äº†&quot;+i+&quot;æ­¥&quot;);
            }
        }
    }

    public class Dog{
        public static void main(String[] args) {
        Animal animal = new Animal();
        new Thread(animal).start();
        }
    }
</code></pre><h2 id="ç¬¬ä¸‰ç§æ–¹æ³•å®ç°callableæ¥å£æ­¤æ–¹æ³•ä¸ºjdk-50æ–°å¢æ–¹æ³•">ç¬¬ä¸‰ç§æ–¹æ³•ï¼šå®ç°Callableæ¥å£ï¼ˆæ­¤æ–¹æ³•ä¸ºJDK 5.0æ–°å¢æ–¹æ³•ï¼‰</h2>
<pre><code>åˆ›å»ºæ­¥éª¤ï¼š
</code></pre>
<ol>
<li>åˆ›å»ºä¸€ä¸ªå®ç°callableçš„å®ç°ç±»ã€‚</li>
<li>å®ç°callæ–¹æ³•ï¼Œå°†æ­¤çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„æ“ä½œå£°æ˜åœ¨callæ–¹æ³•ä¸­ã€‚ç±»ä¼¼ä¸å‰é¢çš„runæ–¹æ³•ã€‚</li>
<li>åˆ›å»ºCallableæ¥å£å®ç°ç±»çš„å¯¹è±¡</li>
<li>å°†æ­¤Callableå®ç°ç±»çš„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’åˆ°FutureTaskæ„é€ å™¨ä¸­ï¼Œåˆ›å»ºFutureTaskå¯¹è±¡ã€‚</li>
<li>å°†FutureTaskç±»çš„åºä¼ é€’åˆ°Threadç±»çš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»ºThreadç±»çš„å¯¹è±¡ï¼Œé€šè¿‡è¯¥å¯¹è±¡å¯åŠ¨çº¿ç¨‹</li>
<li>å¯ä»¥è·å–Callableå®ç°ç±»çš„callæ–¹æ³•çš„è¿”å›å€¼ã€‚ï¼ˆå¯é€‰ï¼Œéœ€è¦è¿”å›å€¼å°±getï¼Œä¸éœ€è¦å°±å§getï¼‰</li>
</ol>
<p>ç‰¹ç‚¹ï¼š</p>
<ol>
<li>ä¸ä½¿ç”¨Runnableç›¸æ¯”ï¼Œ CallableåŠŸèƒ½æ›´å¼ºå¤§äº›</li>
<li>ç›¸æ¯”run()æ–¹æ³•ï¼Œå¯ä»¥æœ‰è¿”å›å€¼</li>
<li>æ–¹æ³•å¯ä»¥æŠ›å‡ºå¼‚å¸¸</li>
<li>æ”¯æŒæ³›å‹çš„è¿”å›å€¼</li>
<li>éœ€è¦å€ŸåŠ©FutureTaskç±»ï¼Œæ¯”å¦‚è·å–è¿”å›ç»“æœ</li>
</ol>
<h4 id="å¦‚ä½•ç†è§£å®ç°callableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹æ¯”å®ç°runnableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ç»™å¼ºå¤§">å¦‚ä½•ç†è§£å®ç°Callableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹æ¯”å®ç°Runnableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹çš„æ–¹å¼ç»™å¼ºå¤§ï¼Ÿ</h4>
<ol>
<li>call()æ–¹æ³•å¯ä»¥æœ‰è¿”å›å€¼ã€‚</li>
<li>call()æ–¹æ³•å¯ä»¥æŠ›å‡ºå¼‚å¸¸ï¼Œè¢«å¤–é¢çš„æ“ä½œæ•è·ï¼Œç„¶åå¤„ç†å¼‚å¸¸</li>
<li>call()æ–¹æ³•æ”¯æŒæ³›å‹<br>
<!-- raw HTML omitted --></li>
</ol>
<h2 id="ç¤ºä¾‹-2">ç¤ºä¾‹ï¼š</h2>
<pre><code>/**
  * ä½¿ç”¨Callableæ¥å£åˆ›å»ºçº¿ç¨‹
  */  

    class NewThread implements Callable{

        public Object call() throws Exception
        {
            int sum=0;
            for(int i=1;i&lt;=100;i++)
            {
                if(i%2==0)
                {
                    sum=sum+i;
                }
            }
            return sum;//è‡ªåŠ¨è£…ç®±
        }
    }
    public class ThreadNew {
        public static void main(String[] args)
        {
            NewThread newThread = new NewThread();


            FutureTask futureTask = new FutureTask(newThread);
            Thread t1 = new Thread(futureTask);
            t1.start();


            try
            {
//getæ–¹æ³•è¿”å›å€¼å³ä¸ºFutureTaskæ„é€ å™¨å‚æ•°Callableå®ç°ç±»å¯¹è±¡é‡å†™çš„callæ–¹æ³•çš„è¿”å›å€¼ã€‚
                //getæ–¹æ³•åªæ˜¯ä¸ºäº†è¿”å›callæ–¹æ³•çš„è¿”å›å€¼ã€‚
                Object sum = futureTask.get();
                //getæ–¹æ³•è‡ªåŠ¨è°ƒç”¨newThreadç±»å¯¹è±¡çš„call()æ–¹æ³•
                System.out.println(sum);
            } catch (InterruptedException e)
            {
                e.printStackTrace();
            } catch (ExecutionException e)
            {
                e.printStackTrace();
            }
        }
    }
</code></pre><!-- raw HTML omitted -->
<h2 id="ç¬¬å››ç§æ–¹æ³•ä½¿ç”¨çº¿ç¨‹æ± ">ç¬¬å››ç§æ–¹æ³•ï¼šä½¿ç”¨çº¿ç¨‹æ± </h2>
<pre><code>åˆ›å»ºæ­¥éª¤ï¼š
</code></pre>
<ol>
<li>
<p>æä¾›æŒ‡å®šå®æ•°é‡çš„çº¿ç¨‹æ± </p>
</li>
<li>
<p>æ‰§è¡ŒæŒ‡å®šçš„çº¿ç¨‹çš„æ“ä½œï¼Œéœ€è¦æä¾›å®ç°Runnableæ¥å£æˆ–Callableæ¥å£çš„å®ç°ç±»å¯¹è±¡</p>
</li>
<li>
<p>å…³é—­çº¿ç¨‹æ± </p>
<p>ä½¿ç”¨ç¯å¢ƒï¼š<br>
â€ƒâ€ƒç»å¸¸åˆ›å»ºå’Œé”€æ¯ã€ä½¿ç”¨é‡ç‰¹åˆ«å¤§çš„èµ„æºï¼Œæ¯”å¦‚å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ï¼Œå¯¹æ€§èƒ½å½±å“å¾ˆå¤§ã€‚<br>
æ€â€ƒâ€ƒè·¯ï¼š<br>
â€ƒâ€ƒæå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–ï¼Œä½¿ç”¨å®Œæ”¾å›æ± ä¸­ã€‚å¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ã€å®ç°é‡å¤åˆ©ç”¨ã€‚</p>
<p>ä¼˜â€ƒâ€ƒç‚¹ï¼š<br>
â€ƒâ€ƒ1.æé«˜ç›¸åº”é€Ÿåº¦(å‡å°‘äº†åˆ›å»ºæ–°çº¿ç¨‹çš„æ—¶é—´)<br>
â€ƒâ€ƒ2.é™ä½äº†èµ„æºæ¶ˆè€—ï¼ˆé‡å¤åˆ©ç”¨çº¿ç¨‹æ± ä¸­çº¿ç¨‹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»ºï¼‰<br>
â€ƒâ€ƒ3.ä¾¿äºçº¿ç¨‹ç®¡ç†<br>
â€ƒâ€ƒâ€ƒâ€ƒcorePoolSizeï¼šæ ¸å¿ƒæ± çš„å¤§å°<br>
â€ƒâ€ƒâ€ƒâ€ƒmaxmimPoolSizeï¼šæœ€å¤§çº¿ç¨‹æ•°<br>
â€ƒâ€ƒâ€ƒâ€ƒkeepAliveTimeï¼šçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢</p>
</li>
</ol>
<ul>
<li>
<p>JDK5.0èµ·æä¾›äº†çº¿ç¨‹æ± ç›¸å…³APIï¼šExecurorServiceå’ŒExecutors</p>
</li>
<li>
<p>ExecutorService:çœŸæ­£çš„çº¿ç¨‹æ± å…¥å£ã€‚å¸¸è§å­ç±»ThreadPoolExecutor</p>
<ul>
<li>void execute(Runnable command):æ‰§è¡Œä»»åŠ¡/å‘½ä»¤ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡ŒRunnble</li>
<li><!-- raw HTML omitted -->Future<!-- raw HTML omitted -->submit(Callble<!-- raw HTML omitted -->task):æ‰§è¡Œä»»åŠ¡ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡ŒCollable</li>
<li>void shutdown():å…³é—­è¿æ¥æ± </li>
</ul>
</li>
</ul>
<h2 id="ç¤ºä¾‹-3">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * çº¿ç¨‹æ± 
    */
    class MyThread implements Runnable{

        public void run() {

                System.out.println(Thread.currentThread().getName());

        }
    }

    public class Thread_12 {
        public static void main(String[] args) {
        //åˆ›å»ºçº¿ç¨‹æ± 
            ExecutorService service = Executors.newFixedThreadPool(10);
                service.execute(new MyThread());
                service.execute(new MyThread());
                service.execute(new MyThread());
                service.execute(new MyThread());
                service.execute(new MyThread());
        }
    }
</code></pre><h2 id="çº¿ç¨‹æ§åˆ¶çš„åŸºæœ¬æ–¹æ³•">çº¿ç¨‹æ§åˆ¶çš„åŸºæœ¬æ–¹æ³•ï¼š</h2>
<ol>
<li>void start(): å¯åŠ¨çº¿ç¨‹ï¼Œå¹¶æ‰§è¡Œå¯¹è±¡çš„run()æ–¹æ³•</li>
<li>run(): éœ€è¦è¢«é‡å†™ï¼Œçº¿ç¨‹åœ¨è¢«è°ƒåº¦æ—¶æ‰§è¡Œçš„æ“ä½œ</li>
<li>String getName(): è¿”å›çº¿ç¨‹çš„åç§°</li>
<li>void setName(String name):è®¾ç½®è¯¥çº¿ç¨‹åç§°</li>
<li>static Thread currentThread(): è¿”å›å½“å‰çº¿ç¨‹ã€‚</li>
<li>static void yield()ï¼šçº¿ç¨‹è®©æ­¥ï¼Œé‡Šæ”¾CPUä½¿ç”¨æƒï¼Œæœ‰å¯èƒ½åœ¨é‡Šæ”¾ä¹‹åæœ‰è¢«åˆ†é…åˆ°ä½¿ç”¨æƒã€‚</li>
<li>join() ï¼šåœ¨å½“çº¿ç¨‹aä¸­çš„è°ƒç”¨çº¿ç¨‹bçš„join()ï¼Œæ­¤æ—¶çº¿ç¨‹aå°±è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œç›´åˆ°çº¿ç¨‹bå®Œå…¨æ‰§è¡Œå®Œæ¯•ï¼Œçº¿ç¨‹æ‰ç»“æŸé˜»å¡ï¼Œç»§ç»­æ‰§è¡Œã€‚</li>
<li>static void sleep(long millis)ï¼š(æŒ‡å®šæ—¶é—´:æ¯«ç§’)è®©å½“å‰çº¿ç¨‹ç¡çœ </li>
<li><del>stop(): å¼ºåˆ¶çº¿ç¨‹ç”Ÿå‘½æœŸç»“æŸï¼Œä¸æ¨èä½¿ç”¨ã€‚ï¼ˆå·²ç»è¿‡æ—¶äº†ï¼‰</del></li>
<li>boolean isAlive()ï¼šè¿”å›booleanï¼Œåˆ¤æ–­çº¿ç¨‹æ˜¯å¦è¿˜æ´»ç€<br>
<!-- raw HTML omitted --></li>
</ol>
<h2 id="åœæ­¢çº¿ç¨‹">åœæ­¢çº¿ç¨‹ï¼š</h2>
<ul>
<li>ä¸æ¨èä½¿ç”¨JDKæä¾›çš„stopï¼ˆï¼‰ã€destoryï¼ˆï¼‰æ–¹æ³•ã€‚[å·²åºŸå¼ƒ]</li>
<li>æ¨èçº¿ç¨‹è‡ªå·±åœä¸‹æ¥</li>
<li>å»ºè®®ä½¿ç”¨æ ‡å¿—ä½è¿›è¡Œç»ˆæ­¢å˜é‡ã€‚å¦‚ï¼šå½“flag=falseï¼Œåˆ™ç»ˆæ­¢çº¿ç¨‹è¿è¡Œ</li>
</ul>
<h2 id="ç¤ºä¾‹-4">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * çº¿ç¨‹åœæ­¢
    * 1.å»ºè®®çº¿ç¨‹æ­£å¸¸åœæ­¢-----åˆ©ç”¨æ¬¡æ•°ï¼Œä¸æ¨èæ­»å¾ªç¯
    * 2.ä½¿ç”¨æ ‡å¿—ä½-----è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½
    * 3.ä¸è¦ä½¿ç”¨stopæˆ–destroyæ–¹æ³•
    */

    public class Thread_03 implements  Runnable {

        // è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½
        private boolean flag = true;
        @Override
        public void run() {
            int i = 0;
            while (flag){
                System.out.println(&quot;run....Thread&quot;+i++);
            }
        }
        public void stop(){
            flag = false;
        }

        public static void main(String[] args) {
        Thread_03 thread = new Thread_03();
        new Thread(thread,&quot;t&quot;).start();

            for (int i = 0; i &lt; 1000; i++) {
                if (i==900){
                    //è°ƒç”¨stopæ–¹æ³•åˆ‡æ¢æ ‡å¿—ä½ï¼Œåœæ­¢çº¿ç¨‹
                    thread.stop();
                    System.out.println(&quot;çº¿ç¨‹åœæ­¢&quot;);

                }
                System.out.println(&quot;main---&gt;&quot;+i);
            }

        }
    }
</code></pre><!-- raw HTML omitted -->
<h2 id="sleepæ–¹æ³•">sleepæ–¹æ³•ï¼š</h2>
<ul>
<li>sleepï¼ˆæ—¶é—´ï¼šæ¯«ç§’ï¼‰æŒ‡å®šå½“å‰çº¿ç¨‹çš„é˜»å¡æ—¶é—´</li>
<li>sleepå­˜åœ¨å¼‚å¸¸InterruotedException</li>
<li>sleepæ—¶é—´åˆ°è¾¾åçº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€</li>
<li>sleepå¯ä»¥æ¨¡æ‹Ÿç½‘ç»œå»¶æ—¶ï¼Œå€’è®¡æ—¶ç­‰</li>
<li>æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªé”ï¼Œsleepä¸ä¼šé‡Šæ”¾é”</li>
</ul>
<h2 id="ç¤ºä¾‹-5">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * sleepæ–¹æ³•
    * æ¨¡æ‹Ÿå»¶æ—¶
    */
    public class Thread_04 implements  Runnable{
        private int ticket = 10;

        public  void  run() {

            while (true) {

                if (ticket &lt;=0){
                    break;
                }

                //æ¨¡æ‹Ÿå»¶æ—¶
                try {
                    Thread.sleep(200);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }

                System.out.println(Thread.currentThread().getName() + &quot;--&gt;æ‹¿åˆ°äº†ç¬¬&quot; + ticket-- + &quot;å¼ ç¥¨&quot;);

            }
        }

        public static void main(String[] args) {
            Thread_04 gv = new Thread_04();
            new Thread(gv,&quot;å°æ˜&quot;).start();
            new Thread(gv,&quot;é»„ç‰›&quot;).start();
            new Thread(gv,&quot;å°çº¢&quot;).start();

        }
    }
</code></pre><!-- raw HTML omitted -->
<h2 id="çº¿ç¨‹ç¤¼è®©threadyield">çº¿ç¨‹ç¤¼è®©ï¼šThread.yieldï¼ˆï¼‰</h2>
<ul>
<li>çº¿ç¨‹ç¤¼è®©ï¼Œè®©å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹åœæ­¢ï¼Œä½†ä¸é˜»å¡</li>
<li>å°†çº¿ç¨‹ä»è¿è¡ŒçŠ¶æ€è½¬æ¢ä¸ºå°±ç»ªçŠ¶æ€</li>
<li>è®©CPUé‡æ–°è°ƒåº¦ï¼Œç¤¼è®©ä¸ä¸€å®šæˆåŠŸï¼Œçœ‹CPUå¿ƒæƒ…</li>
</ul>
<h2 id="ç¤ºä¾‹-6">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * ç¤¼è®©çº¿ç¨‹
    * ç¤¼è®©ä¸ä¸€å®šæˆåŠŸ
    */
    class Myield implements Runnable{


        @Override
        public void run() {
            System.out.println(Thread.currentThread().getName()+&quot;çº¿ç¨‹å¼€å§‹æ‰§è¡Œ&quot;);
            Thread.yield();//ç¤¼è®©
            System.out.println(Thread.currentThread().getName()+&quot;çº¿ç¨‹åœæ­¢æ‰§è¡Œ&quot;);
        }
    }
    public class Thread_07 {
        public static void main(String[] args) {


            Myield myield = new Myield();
            new Thread(myield,&quot;a&quot;).start();
            new Thread(myield,&quot;b&quot;).start();
        }
    }
</code></pre><!-- raw HTML omitted -->
<h2 id="joinæ–¹æ³•æ’é˜Ÿ">Joinæ–¹æ³•ï¼šæ’é˜Ÿ</h2>
<ul>
<li>ç­‰å¾…æ­¤çº¿ç¨‹æ‰§è¡Œå®Œæˆåæ‰å¯ä»¥æ‰§è¡Œå…¶ä»–çº¿ç¨‹ï¼Œå…¶ä»–çº¿ç¨‹é˜»å¡</li>
</ul>
<h2 id="ç¤ºä¾‹-7">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * Join æ–¹æ³•
    * æ’é˜Ÿ
    */
    public class Thread_08 implements Runnable{


        @Override
        public void run() {
            for (int i = 0; i &lt; 1000; i++) {
                System.out.println(&quot;VIPçº¿ç¨‹-----ã€‹&quot;+i);
            }
        }

        public static void main(String[] args) throws InterruptedException {
            
            //å¯åŠ¨çº¿ç¨‹
            Thread_08 thread_08 = new Thread_08();
            Thread thread = new Thread(thread_08);
            thread.start();
            //ä¸»çº¿ç¨‹
            for (int i = 0; i &lt; 500; i++) {
                if (i==300){
                    thread.join();
                }
                System.out.println(&quot;main&quot;+i);
            }
        }
    }
</code></pre><!-- raw HTML omitted -->
<h2 id="æŸ¥è¯¢çº¿ç¨‹çŠ¶æ€threadstate">æŸ¥è¯¢çº¿ç¨‹çŠ¶æ€ï¼šThread.State</h2>
<h3 id="emsp-emspçº¿ç¨‹çŠ¶æ€">â€ƒ â€ƒçº¿ç¨‹çŠ¶æ€ï¼š</h3>
<pre><code>    ï¼ˆ1ï¼‰. NEW  ï¼šçº¿ç¨‹å°šæœªå¯åŠ¨çŠ¶æ€
    ï¼ˆ2ï¼‰. RUNNABLE  : åœ¨javaè™šæ‹Ÿæœºä¸­æ‰§è¡Œçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€
    ï¼ˆ3ï¼‰. BLOCKED  : è¢«é˜»å¡ç­‰å¾…ç›‘è§†å™¨é”å®šçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€
    ï¼ˆ4ï¼‰. WAITING  : æ­£åœ¨ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç‰¹å®šåŠ¨ä½œçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€
    ï¼ˆ5ï¼‰. TIMED_WAITING  :æ­£ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŠ¨ä½œè¾¾åˆ°æŒ‡å®šç­‰å¾…æ—¶é—´çš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€
    ï¼ˆ6ï¼‰. TERMINATED  : å·²é€€å‡ºçš„çº¿ç¨‹å¤„äºæ­¤çŠ¶æ€  
</code></pre>
<h2 id="ç¤ºä¾‹-8">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * Thread.State
    * è§‚å¯Ÿçº¿ç¨‹çš„çŠ¶æ€
    */
    public class Thread_09 {
        public static void main(String[] args) throws InterruptedException {
            Thread thread = new Thread(() -&gt; {
                for (int i = 0; i &lt; 5; i++) {
                    try {
                        Thread.sleep(100);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }
                System.out.println(&quot;----&quot;);

            });

            //è§‚å¯Ÿçº¿ç¨‹çŠ¶æ€
            Thread.State state = thread.getState();
            System.out.println(state);

            //è§‚å¯Ÿçº¿ç¨‹å¯åŠ¨å
            thread.start();
            state = thread.getState();  //æ›´æ–°å¯åŠ¨åçº¿ç¨‹çš„çŠ¶æ€

            while (state != Thread.State.TERMINATED){ //åªè¦çº¿ç¨‹ä¸ç»“æŸå°±ä¸€ç›´å¾ªç¯
                Thread.sleep(100);      //æ¯ä¸ª0.1ç§’è¾“å‡ºä¸€æ¬¡
                state = thread.getState();     //æ›´æ–°çŠ¶æ€
                System.out.println(state);
            }
        }
    }

</code></pre><!-- raw HTML omitted -->
<h2 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§">çº¿ç¨‹çš„ä¼˜å…ˆçº§</h2>
<pre><code>ä½¿ç”¨ä¸€ä¸‹æ–¹æ³•å¯ä»¥æ”¹å˜æˆ–è·å–çº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼š
</code></pre>
<ul>
<li>getPriority ()<br>
è·å–çº¿çš„ç¨‹ä¼˜å…ˆçº§</li>
<li>setPriority ()<br>
ä¿®æ”¹çº¿ç¨‹çš„ä¼˜å…ˆçº§</li>
</ul>
<p>â€ƒâ€ƒJavaæä¾›ä¸€ä¸ªçº¿ç¨‹è°ƒåº¦å™¨æ¥ç›‘æ§ç¨‹åºä¸­å¯åŠ¨åè¿›å»å°±ç»ªçŠ¶æ€çš„æ‰€æœ‰çº¿ç¨‹ã€‚çº¿ç¨‹è°ƒåº¦å™¨æŒ‰ç…§çº¿ç¨‹çš„ä¼˜å…ˆçº§å†³å®šè°ƒåº¦é‚£ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œã€‚<br>
â€ƒâ€ƒçº¿ç¨‹çš„ä¼˜å…ˆçº§ç”¨æ•°å­—è¡¨ç¤ºï¼ŒèŒƒå›´1åˆ°10ï¼Œä¸€ä¸ªçº¿ç¨‹çš„ç¼ºçœä¼˜å…ˆçº§æ˜¯5.</p>
<ul>
<li>
<pre><code>Thread . MIN_PRIORITY = 1  
</code></pre>
</li>
<li>
<pre><code>Thread . MAX_PRIORITY = 10  
</code></pre>
</li>
<li>
<pre><code>Thread . NORM_PRIORITY = 5  
</code></pre>
</li>
</ul>
<h2 id="ç¤ºä¾‹-9">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * çº¿ç¨‹ä¼˜å…ˆçº§
    *
    */

    class Priority implements Runnable{


        @Override
        public void run() {
            System.out.println(Thread.currentThread().getName()
                    +&quot;--&gt;&quot;+Thread.currentThread().getPriority() );

        }
    }

    public class Thread_10 {
        public static void main(String[] args) {
            //ä¸»çº¿ç¨‹ä¼˜å…ˆçº§
            System.out.println(Thread.currentThread().getName()
                                +&quot;--&gt;&quot;+Thread.currentThread().getPriority() );

            Priority priority = new Priority();
            Thread t1 = new Thread(priority);
            Thread t2 = new Thread(priority);
            Thread t3 = new Thread(priority);
            Thread t4 = new Thread(priority);
            Thread t5 = new Thread(priority);
            Thread t6 = new Thread(priority);

            //å…ˆè®¾ç½®ä¼˜å…ˆçº§åœ¨å¯åŠ¨
            t1.start();

            t2.setPriority(1);
            t2.start();

            t3.setPriority(4);
            t3.start();

            t4.setPriority(Thread.MAX_PRIORITY);
            t4.start();

            t5.setPriority(-1);
            t5.start();

            t6.setPriority(11);
            t6.start();

        }
    }
</code></pre><!-- raw HTML omitted -->
<h2 id="å®ˆæŠ¤çº¿ç¨‹">å®ˆæŠ¤çº¿ç¨‹</h2>
<ul>
<li>
<p>çº¿ç¨‹åˆ†ä¸ºç”¨æˆ·çº¿ç¨‹å’Œå®ˆæŠ¤çº¿ç¨‹</p>
</li>
<li>
<p>è™šæ‹Ÿæœºå¿…é¡»ç¡®ä¿ç”¨æˆ·çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</p>
</li>
<li>
<p>è™šæ‹Ÿæœºä¸ç”¨ç­‰å¾…å®ˆæŠ¤çº¿ç¨‹æ‰§è¡Œå®Œæ¯•</p>
</li>
<li>
<p>å®ˆæŠ¤çº¿ç¨‹ä¿æŠ¤ç”¨æˆ·çº¿ç¨‹</p>
<p>Blooean   setDaemonï¼ˆï¼‰å¯ä»¥è®¾ç½®çº¿ç¨‹æ˜¯å¦ä¸ºå®ˆæŠ¤çº¿ç¨‹<br>
é»˜è®¤æ˜¯falseè¡¨ç¤ºæ˜¯ç”¨æˆ·çº¿ç¨‹ï¼Œæ­£å¸¸çš„çº¿ç¨‹éƒ½æ˜¯ç”¨æˆ·çº¿ç¨‹ã€‚ã€‚</p>
</li>
</ul>
<h2 id="ç¤ºä¾‹-10">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * å®ˆæŠ¤çº¿ç¨‹
    */
    class Person implements Runnable{


        @Override
        public void run() {
            for (int i = 0; i &lt; 36500; i++) {
                System.out.println(&quot;æ´»ç€&quot;);
            }
            System.out.println(&quot;GameOver&quot;);
        }
    }

    class God implements Runnable{

        @Override
        public void run() {
            while (true){
                System.out.println(&quot;ä¿ä½‘&quot;);
            }
        }
    }
    public class Thread_11 {
        public static void main(String[] args) {
                God god = new God();
            Person person = new Person();

            Thread thread = new Thread(god);
            //é»˜è®¤æ˜¯falseè¡¨ç¤ºæ˜¯ç”¨æˆ·çº¿ç¨‹ï¼Œæ­£å¸¸çš„çº¿ç¨‹éƒ½æ˜¯ç”¨æˆ·çº¿ç¨‹ã€‚ã€‚
            thread.setDaemon(true);

            thread.start();

            new Thread(person).start();
        }
    }
</code></pre><!-- raw HTML omitted -->
<h2 id="é”synchronized">é”ï¼šsynchronized</h2>
<ul>
<li>ä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”ä¼šå¯¼è‡´å…¶ä»–æ‰€æœ‰éœ€è¦æ­¤é”çš„çº¿ç¨‹æŒ‚èµ·</li>
<li>åœ¨å¤šçº¿ç¨‹ç«äº‰ä¸‹ï¼ŒåŠ é”ã€é‡Šæ”¾é”ä¼šå½“å€¼æ¯”è¾ƒå¤šçš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œè°ƒåº¦å»¶æ—¶ï¼Œå¼•èµ·æ€§èƒ½å»¶æ—¶</li>
<li>ä¸€ä¸ªä¼˜å…ˆçº§æçš„çº¿ç¨‹ç­‰å¾…ä¸€ä¸ªä¼˜å…ˆçº§ä½çš„çº¿ç¨‹é‡Šæ”¾é”ï¼Œå°±ä¼šå¯¼è‡´ä¼˜å…ˆçº§å€’ç½®ï¼Œå¼•èµ·æ€§èƒ½é—®é¢˜</li>
</ul>
<h3 id="åŒæ­¥å—synchronizedobj-">åŒæ­¥å—ï¼šsynchronizedï¼ˆobjï¼‰{ }</h3>
<p>Objæˆä¸ºåŒæ­¥ç›‘è§†å™¨ï¼š</p>
<ul>
<li>Objå¯ä»¥æ—¶ä»»ä½•å¯¹è±¡ï¼Œä½†æ˜¯æ¨èä½¿ç”¨è´¡çŒ®èµ„æºä½œä¸ºåŒæ­¥ç›‘è§†å™¨</li>
<li>åŒæ­¥æ–¹æ³•ä¸­æ— éœ€æŒ‡å®šåŒæ­¥ç›‘è§†å™¨ï¼Œå› ä¸ºåŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨å°±æ˜¯thisï¼Œå°±æ˜¯è¿™ä¸ªå¯¹è±¡æœ¬èº«æˆ–class</li>
</ul>
<h3 id="åŒæ­¥ç›‘è§†å™¨çš„æ‰§è¡Œè¿‡ç¨‹">åŒæ­¥ç›‘è§†å™¨çš„æ‰§è¡Œè¿‡ç¨‹ï¼š</h3>
<ol>
<li>ç¬¬ä¸€ä¸ªçº¿ç¨‹è®¿é—®ï¼Œé”å®šåŒæ­¥ç›‘è§†å™¨ï¼Œæ‰§è¡Œå…¶ä¸­ä»£ç </li>
<li>ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®ï¼Œå‘ç°åŒæ­¥ç›‘è§†å™¨è¢«é”å®šï¼Œæ— å¦¨è®¿é—®</li>
<li>ç¬¬ä¸€ä¸ªçº¿ç¨‹è®¿é—®å®Œæ¯•ï¼Œè§£é”åŒæ­¥ç›‘è§†å™¨</li>
<li>ç¬¬äºŒä¸ªçº¿ç¨‹è®¿é—®ï¼Œå‘ç°åŒæ­¥ç›‘è§†å™¨æ²¡æœ‰é”ï¼Œç„¶åé”å®šå¹¶è®¿é—®</li>
</ol>
<h3 id="æ­»é”çš„é¿å…æ–¹æ³•">æ­»é”çš„é¿å…æ–¹æ³•</h3>
<pre><code>äº§ç”Ÿæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼š  
</code></pre>
<ol>
<li>äº’æ–¥æ¡ä»¶ï¼šä¸€ä¸ªèµ„æºæ¯æ¬¡åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨</li>
<li>è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œè¢«é˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾</li>
<li>ä¸å‰¥å¤ºæ¡ä»¶ï¼šè¿›ç¨‹å·²è·å¾—çš„èµ„æºï¼Œåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ä»–ä»¬ä¸èƒ½å¼ºè¡Œå‰¥å¤º</li>
<li>å¾ªç¯ç­‰æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰èµ„æºå…³ç³»</li>
</ol>
<!-- raw HTML omitted -->
<h2 id="locké”">LOCKé”</h2>
<ul>
<li>ä»JDK5.0å¼€å§‹ï¼ŒJavaæä¾›äº†æ›´å¼ºå¤§çš„çº¿ç¨‹åŒæ­¥æœºåˆ¶â€”â€”é€šè¿‡æ˜¾ç¤ºå®šä¹‰åŒæ­¥é”æ¥å®ç°åŒæ­¥ã€‚åŒæ­¥é”ä½¿ç”¨Lockå¯¹è±¡å……å½“</li>
<li>Java.util.concurrent.locks.Lockæ¥å£æ—¶æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºè¿›è¡Œè®¿é—®çš„å·¥å…·ã€‚é”æä¾›äº†å¯¹å…±äº«èµ„æºçš„ç‹¬å è®¿é—®ï¼Œæ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹Lockå¯¹è±¡åŠ é”ï¼Œçº¿ç¨‹å¼€å§‹è®¿é—®å…±äº«èµ„æºè‡ªè°¦åº”å…ˆè·å¾—Lockå¯¹è±¡</li>
<li>ReentrantLockç±»å®ç°Lockï¼Œä»–æ‹¥æœ‰ä¸synchronizedç›¸åŒçš„å¹¶å‘æ€§å’Œå†…å­˜è¯­ä¹‰ï¼Œåœ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ§åˆ¶ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ—¶ReentrantLoicï¼Œå¯ä»¥æ˜¾ç¤ºåŠ é”å°±ï¼Œè§£é”ã€‚</li>
</ul>
<h2 id="ç¤ºä¾‹-11">ç¤ºä¾‹ï¼š</h2>
<pre><code>    /**
    * Locké”
    */

    class Ticket implements Runnable{

        private int num = 10;

        private final ReentrantLock lock = new ReentrantLock();
        @Override
        public void run() {
        while (true){
            try {
                lock.lock();

            if (num &gt; 0){
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                System.out.println(Thread.currentThread().getName()+&quot;æŠ¢åˆ°äº†ç¬¬--ã€‹&quot;+num--);
            }else {
            break;
                }
            }finally {
            lock.unlock();  //è§£é”
            }
        }
        }
    }
    public class Synchronized_04 {
        public static void main(String[] args) {
            Ticket ticket = new Ticket();
            new Thread(ticket,&quot;p1&quot;).start();
            new Thread(ticket,&quot;p2&quot;).start();
            new Thread(ticket,&quot;p3&quot;).start();
            new Thread(ticket,&quot;p4&quot;).start();
            new Thread(ticket,&quot;p5&quot;).start();
        }
    }
</code></pre><!-- raw HTML omitted -->
<h2 id="synchronizedä¸lockçš„å¯¹æ¯”">synchronizedä¸Lockçš„å¯¹æ¯”</h2>
<ul>
<li>Lockæ˜¯æ˜¾ç¤ºé”ï¼ˆæ‰‹åŠ¨å¼€å¯å’Œå…³é—­é”ï¼‰synchroizedæ˜¯éšå¼é”ï¼Œé™¤äº†ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾</li>
<li>Lockåªè¦æºç å¿«é”ï¼Œsynchronizedæœ‰ä»£ç é”å’Œæ–¹æ³•é”</li>
<li>ä½¿ç”¨Locké”ï¼ŒJVMå°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è°ƒåº¦çº¿ç¨‹ï¼Œæ€§èƒ½æ›´å¥½ï¼Œä¸”å…·æœ‰æ›´å¥½çš„æ‰©å¼ æ€§</li>
<li>ä¼˜å…ˆä½¿ç”¨é¡ºåºï¼š Lock &gt; åŒæ­¥ä»£ç å— &gt; åŒæ­¥æ–¹æ³•<br>
<!-- raw HTML omitted --></li>
</ul>
<h2 id="ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜">ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…é—®é¢˜</h2>
<pre><code>åº”ç”¨åœºæ™¯ï¼š
</code></pre>
<ul>
<li>å‡è®¾ä»“åº“ä¸­åªèƒ½å­˜æ”¾ä¸€ä»¶äº§å“ï¼Œç”Ÿäº§è€…å°†ç”Ÿäº§å‡ºæ¥çš„äº§å“æ”¾å…¥ä»“åº“ï¼Œæ¶ˆè´¹è€…å°†ä»“åº“ä¸­äº§å“å–èµ°æ¶ˆè´¹</li>
<li>å¦‚æœä»“åº“ä¸­æ²¡æœ‰äº§å“ï¼Œåˆ™ç”Ÿäº§è€…å°†äº§å“æ”¾å…¥ä»“åº“ï¼Œå¦åˆ™åœæ­¢ç”Ÿäº§å¹¶ç­‰å¾…ï¼ŒçŸ¥é“ä»“åº“ä¸­çš„äº§å“è¢«æ¶ˆè´¹è€…å–èµ°ä¸ºæ­¢</li>
<li>å¦‚æœä»“åº“åœ¨æ–¹æœ‰äº§å“ï¼Œåˆ™æ¶ˆè´¹è€…å¯ä»¥å°†äº§å“å–èµ°æ¶ˆè´¹ï¼Œå¦åˆ™åœæ­¢æ¶ˆè´¹å¹¶ç­‰å¾…ï¼ŒçŸ¥é“ä»“åº“ä¸­å†æ¬¡æ”¾å…¥äº§å“ä¸ºæ­¢</li>
</ul>
<h3 id="åˆ†æ">åˆ†æï¼š</h3>
<p>â€ƒâ€ƒâ€ƒâ€ƒè¿™æ˜¯ä¸€ä¸ªçº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…å…±äº«ä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´ç›¸äº’ä¾èµ–ï¼Œäº’ä¸ºæ¡ä»¶ã€‚</p>
<ul>
<li>
<p>å¯¹äºç”Ÿäº§è€…ï¼Œæ²¡æœ‰ç”Ÿæˆäº§å“ä¹‹å‰ï¼Œè¦é€šçŸ¥æ¶ˆè´¹è€…ç­‰å¾…ï¼Œè€Œç”Ÿäº§äº†äº§å“ä¹‹åï¼Œåˆéœ€è¦é©¬ä¸Šé€šçŸ¥æ¶ˆè´¹è€…æ¶ˆè´¹</p>
</li>
<li>
<p>å¯¹äºæ¶ˆè´¹è€…ï¼Œåœ¨æ¶ˆè´¹ä¹‹åï¼Œè¦é€šçŸ¥ç”Ÿäº§è€…å·²ç»ç»“æŸæ¶ˆè´¹ï¼Œéœ€è¦ç”Ÿäº§æ–°çš„äº§å“ä»¥ä¾›æ¶ˆè´¹</p>
</li>
<li>
<p>åœ¨ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜ä¸­ä»…æœ‰synchronizedæ˜¯ä¸å¤Ÿçš„</p>
<ul>
<li>synchronizedå¯é˜»æ­¢å¹¶å‘æ›´æ–°åŒä¸€ä¸ªå…±äº«èµ„æºï¼Œå®ç°åŒæ­¥</li>
<li>synchronizedä¸èƒ½ç”¨æ¥å®ç°ä¸åŒçº¿ç¨‹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’</li>
</ul>
</li>
</ul>
<h3 id="objectç±»ä¸­çº¿ç¨‹é€šä¿¡æ–¹æ³•">Objectç±»ä¸­çº¿ç¨‹é€šä¿¡æ–¹æ³•ï¼š</h3>
<ol>
<li>waitï¼ˆï¼‰ï¼šè¡¨ç¤ºçº¿ç¨‹ä¸€ç›´ç­‰å¾…ï¼Œç›´åˆ°å…¶ä»–çº¿ç¨‹é€šçŸ¥ï¼Œä¸sleepä¸åŒï¼Œä¼šé‡Šæ”¾é”</li>
<li>waitï¼ˆlong timeoutï¼‰ï¼šæŒ‡å®šç­‰å¾…çš„æ¯«ç§’æ•°</li>
<li>notifyï¼ˆï¼‰ï¼šå”¤é†’ä¸€ä¸ªå¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹</li>
<li>å”¤é†’åŒä¸€ä¸ªå¯¹è±¡ä¸Šæ‰€æœ‰è°ƒç”¨waitï¼ˆï¼‰æ–¹æ³•çš„çº¿ç¨‹ï¼Œä¼˜å…ˆçº§åˆ«é«˜çš„çº¿	
ç¨‹ä¼˜å…ˆè°ƒåº¦</li>
</ol>
<h2 id="ç¤ºä¾‹1ç®¡ç¨‹æ³•">ç¤ºä¾‹1ï¼šç®¡ç¨‹æ³•</h2>
<pre><code>ç”Ÿäº§è€…å°†ç”Ÿäº§å¥½çš„æ•°æ®æ”¾å…¥ç¼“å†²åŒºï¼Œæ¶ˆè´¹è€…ä»ç¼“å†²åŒºæ‹¿å‡ºæ•°æ®
</code></pre>
<pre><code>    /**
    * ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ¨¡å‹--ã€‹åˆ©ç”¨ç¼“å†²åŒºè§£å†³ï¼šç®¡ç¨‹æ³•
    * ç”Ÿäº§è€… æ¶ˆè´¹è€… äº§å“ ç¼“å†²åŒº
    */

    //ç”Ÿäº§è€…
    class Productor extends Thread{
    SynContainer container;

    public Productor(SynContainer container){
        this.container = container;
    }

        @Override
        public void run() {
            for (int i = 1; i &lt; 100; i++) {
                System.out.println(&quot;---ç”Ÿäº§äº†&quot;+i+&quot;åªé¸¡&quot;);
            container.push(new Chicken(i));
            }
        }
    }

    //æ¶ˆè´¹è€…
    class Cousumer extends Thread{
        SynContainer container;

        public Cousumer(SynContainer container){
            this.container = container;
        }


        @Override
        public void run() {
            for (int i = 1; i &lt; 100; i++) {
                System.out.println(&quot;***æ¶ˆè´¹äº†&quot;+container.pop().id+&quot;åªé¸¡&quot;);

            }
        }
    }

    //äº§å“
    class Chicken{
        int id;     //äº§å“ç¼–å·

        public Chicken(int id){
        this.id = id;
        }
    }

    //ç¼“å†²åŒº
    class SynContainer{

        //å®¹å™¨å¤§å°
        Chicken [] chickens = new Chicken[10];
        //å®¹å™¨è®¡æ•°å™¨
        int count = 0;

        //ç”Ÿäº§è€…æ”¾å…¥äº§å“ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½ç”Ÿäº§å•†å“
        public synchronized void push(Chicken chicken){
            //å¦‚æœå®¹å™¨æ»¡äº†ï¼Œå°±éœ€è¦ç­‰å¾…æ¶ˆè´¹è€…
            if (count == chickens.length){
                try {
                    this.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                //é€šçŸ¥æ¶ˆè´¹è€…ï¼Œç”Ÿäº§è€…åœæ­¢ç”Ÿäº§ è¿›å…¥ç­‰å¾…
            }
            //å¦‚æœæ²¡æœ‰æ…¢ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸¢å…¥äº§å“
                //ç”Ÿäº§è€…å¼€å§‹ï¼Œæ¶ˆè´¹è€…ç­‰å¾…
            chickens[count]=chicken;
            count++;
            //å¯ä»¥é€šçŸ¥æ¶ˆè´¹è€…äº†
                this.notifyAll();
        }
        //æ¶ˆè´¹è€…æ¶ˆè´¹äº§å“ï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥æ¶ˆè´¹äº§
        public synchronized Chicken pop() {
            //åˆ¤æ–­èƒ½å¦æ¶ˆè´¹
            if (count == 0) {
                //ç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§ï¼Œæ¶ˆè´¹è€…ç­‰å¾…çŠ¶æ€
                try {
                    this.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }
                //å¦‚æœå¯ä»¥æ¶ˆè´¹
                count--;
                Chicken chicken = chickens[count];
                //é€šçŸ¥ç”Ÿäº§è€…ç”Ÿäº§
                this.notify();

            return chicken;
        }
    }


    public class Dome_01 {
        public static void main(String[] args) {
            SynContainer container = new SynContainer();
            new Productor(container).start();
            new Cousumer(container).start();
        }
    } 

</code></pre><h2 id="ç¤ºä¾‹2ä¿¡å·ç¯æ³•æ ‡å¿—ä½è§£å†³">ç¤ºä¾‹2ï¼šä¿¡å·ç¯æ³•ï¼šæ ‡å¿—ä½è§£å†³</h2>
<pre><code>    /**
    *ç”Ÿäº§è€…æ¶ˆè´¹è€…
    * ä¿¡å·ç¯æ³•
    * æ ‡å¿—ä½è§£å†³
    */
    //ç”Ÿäº§è€…--æ¼”å‘˜
    class Player implements Runnable{
        TV tv;

        public Player(TV tv){
            this.tv = tv;
        }
        @Override
        public void run() {
            for (int i = 0; i &lt; 20; i++) {
                if (i%2==0){
                    this.tv.play(&quot;é»‘å­å”±æ­Œä¸­&quot;);
                }else {
                    this.tv.play(&quot;è¾‰å­è¡¨æ¼”ä¸­&quot;);
                }
            }
        }
    }

    //æ¶ˆè´¹è€…--è§‚ä¼—
    class Watcher implements Runnable{
        TV tv;

        public Watcher(TV tv){
            this.tv = tv;
        }

        @Override
        public void run() {
            for (int i = 0; i &lt; 20; i++) {
                tv.watch();
            }
        }
    }

    //äº§å“--èŠ‚ç›®
    class TV{
        //æ¼”å‘˜è¡¨æ¼”ï¼Œè§‚ä¼—ç­‰å¾…
        //è§‚ä¼—è§‚çœ‹ï¼Œæ¼”å‘˜ç­‰å¾…
        String music;
        boolean flag = true;

        //è¡¨æ¼”
        public synchronized void play(String music){
            //æ¼”å‘˜ç­‰å¾…
            if (!flag){
                try {
                    this.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
            }

            System.out.println(&quot;è¡¨æ¼”äº†:&quot;+music);
            //é€šçŸ¥è§‚ä¼—è§‚çœ‹
            this.notifyAll();//é€šçŸ¥å”¤é†’
            this.music = music;
            this.flag = !this.flag;
        }

        //è§‚çœ‹
        public synchronized  void watch(){
            if (flag){

                try {
                    this.wait();
                } catch (InterruptedException e) {
                    e.printStackTrace();
                }
                System.out.println(&quot;è§‚çœ‹äº†ï¼š&quot;+music);
                //é€šçŸ¥æ¼”å‘˜è¡¨æ¼”
                this.notifyAll();
                this.flag = !this.flag;
            }

        }
    }

    public class Dome_02 {
        public static void main(String[] args) {
            TV tv = new TV();
            Player player = new Player(tv);
            Watcher watcher = new Watcher(tv);
            new Thread(player).start();
            new Thread(watcher).start();
        }
    }

</code></pre><hr>
<pre><code>                                                             å…³æ³¨åšä¸»
                                                             æŒç»­å˜å¼º
                                                             ğŸ˜Š   ğŸ‘</code></pre>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
